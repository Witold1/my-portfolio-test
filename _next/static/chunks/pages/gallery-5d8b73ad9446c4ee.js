(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{3675:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var l=a(7876),r=a(4232),s=a(7328),o=a.n(s),c=a(5944);function i(e){let{card:t,openModal:a}=e,[s,o]=(0,r.useState)(0);if("carousel"===t.type){let e=t.items[s];return(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[(0,l.jsxs)("div",{className:"carousel-container",children:["image"===e.type?(0,l.jsx)("img",{src:e.src,alt:e.alt,className:"w-full h-auto object-cover rounded-t-lg cursor-pointer",onClick:()=>a(e)}):(0,l.jsx)("video",{src:e.src,className:"w-full h-auto object-cover rounded-t-lg cursor-pointer",onClick:()=>a(e),muted:!0}),t.items.length>1&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>o(e=>0===e?t.items.length-1:e-1),className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white p-2 rounded-full opacity-75 hover:opacity-100",children:"❮"}),(0,l.jsx)("button",{onClick:()=>o(e=>e===t.items.length-1?0:e+1),className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white p-2 rounded-full opacity-75 hover:opacity-100",children:"❯"}),(0,l.jsxs)("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 text-white bg-gray-800 bg-opacity-50 px-2 py-1 rounded",children:[s+1," / ",t.items.length]})]})]}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t.title}),(0,l.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description})]})]})}return(0,l.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:["image"===t.type?(0,l.jsx)("img",{src:t.src,alt:t.alt,className:"w-full h-auto object-cover rounded-t-lg cursor-pointer",onClick:()=>a(t)}):(0,l.jsx)("video",{src:t.src,className:"w-full h-auto object-cover rounded-t-lg cursor-pointer",onClick:()=>a(t),muted:!0}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t.title}),(0,l.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description})]})]})}function n(){let[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)("all"),[n,d]=(0,r.useState)([]),[g,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{fetch("/data/gallery.json").then(e=>e.json()).then(e=>{d(e);let t=e.flatMap(e=>"carousel"===e.type?e.items:[{src:e.src,type:e.type}]).filter(e=>"image"===e.type),a=0;if(0===t.length)return void h(!0);t.forEach(e=>{let l=new Image;l.src=e.src,l.onload=l.onerror=()=>{(a+=1)===t.length&&h(!0)}})}).catch(e=>console.error("Failed to load gallery data:",e))},[]),(0,r.useEffect)(()=>{u(!0)},[]);let m="all"===a?n:n.filter(e=>e.categories.some(e=>e.toLowerCase().replace("/","")===a)),p=e=>t(e),y=()=>t(null);return(0,l.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,l.jsx)(o(),{children:(0,l.jsx)("title",{children:"Gallery - Witold's Data Consulting"})}),(0,l.jsx)("div",{className:"flex-grow bg-gray-100 dark:bg-gray-900 py-8",children:(0,l.jsxs)("div",{className:"w-full max-w-none",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center text-gray-900 dark:text-gray-100",children:"Data Visualization Gallery"}),(0,l.jsx)("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:["all","general-topic","population-charts","road-networks","3d-lidar","geography-terrain"].map(e=>(0,l.jsx)("button",{onClick:()=>s(e),className:"px-4 py-2 rounded ".concat(a===e?"bg-blue-600 text-white dark:bg-blue-500 dark:text-gray-100":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-100 hover:bg-gray-300 dark:hover:bg-gray-600"),children:"all"===e?"Show All":e.replace(/-/g," ").replace("3d-lidar","3D/LiDAR").replace(/\b\w/g,e=>e.toUpperCase())},e))}),g&&x&&(0,l.jsx)(c.MasonryGrid,{className:"masonry-grid",gap:8,column:{0:1,768:2,1400:3},align:"justify",children:m.map(e=>(0,l.jsx)(i,{card:e,openModal:p},e.id))}),e&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:y,children:(0,l.jsxs)("div",{className:"relative max-w-4xl w-full",onClick:e=>e.stopPropagation(),children:["image"===e.type?(0,l.jsx)("img",{src:e.src,alt:e.alt,className:"w-full h-auto rounded-lg"}):(0,l.jsx)("video",{src:e.src,controls:!0,autoPlay:!0,className:"w-full h-auto rounded-lg"}),(0,l.jsx)("button",{onClick:y,className:"absolute top-4 right-9 text-gray-100 text-4xl font-bold transition duration-300 hover:text-gray-300",children:"\xd7"})]})})]})})]})}},9728:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return a(3675)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[337,636,593,792],()=>t(9728)),_N_E=e.O()}]);